/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	INCLUDES
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

"use strict";

const helper = require("../../../helper");

/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	ARTICLE GROUP MODEL
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

module.exports = {
  /////////////////////////////////
  // HOOKS
  /////////////////////////////////

  async beforeCreate(event) {
    const locale = event.params.data.locale;
    helper.createSlugs(event.params.data, locale);
  },

  async beforeUpdate(event) {
    const id = event.params.where.id;
    const uid = event.model.uid;
    const locale = await helper.getBeforeUpdateLocale(id, uid);
    if (Object.hasOwn(event.params.data, "slug_de")) {
      helper.createSlugs(event.params.data, locale);
    }
  },

  /*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
};
